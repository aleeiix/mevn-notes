(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["notes"],{"0841":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("Notes")]),n("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.message.color},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(t._s(t.message.text))]),t.editMode?t._e():n("form",{on:{submit:function(e){return e.preventDefault(),t.addNote()}}},[n("h3",[t._v("Add a new note")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newNote.name,expression:"newNote.name"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.newNote.name},on:{input:function(e){e.target.composing||t.$set(t.newNote,"name",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newNote.description,expression:"newNote.description"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.newNote.description},on:{input:function(e){e.target.composing||t.$set(t.newNote,"description",e.target.value)}}}),n("b-button",{staticClass:"btn-success btn-block mt-2 mb-4",attrs:{type:"submit"}},[t._v("Add")])],1),t.editMode?n("form",{on:{submit:function(e){return e.preventDefault(),t.updateNote()}}},[n("h3",[t._v("Edit a note")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editNote.name,expression:"editNote.name"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.editNote.name},on:{input:function(e){e.target.composing||t.$set(t.editNote,"name",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editNote.description,expression:"editNote.description"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.editNote.description},on:{input:function(e){e.target.composing||t.$set(t.editNote,"description",e.target.value)}}}),n("b-button",{staticClass:"btn-warning btn-block mt-2 mb-2",attrs:{type:"submit"}},[t._v("Edit")]),n("b-button",{staticClass:"btn-default btn-block mt-2 mb-4",on:{click:function(e){return t.cancelEditMode()}}},[t._v("Cancel")])],1):t._e(),n("table",{staticClass:"table"},[t._m(0),n("tbody",t._l(t.notes,(function(e,o){return n("tr",{key:o},[n("th",{attrs:{scope:"row"}},[t._v(t._s(e._id))]),n("td",[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.description))]),n("td",[n("b-button",{staticClass:"btn-sm btn-warning mr-2",on:{click:function(n){return t.activeEditMode(e._id)}}},[t._v("Edit")]),n("b-button",{staticClass:"btn-sm btn-danger",on:{click:function(n){return t.deleteNote(e._id)}}},[t._v("Delete")])],1)])})),0)])],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[t._v("#")]),n("th",{attrs:{scope:"col"}},[t._v("Name")]),n("th",{attrs:{scope:"col"}},[t._v("Description")]),n("th",{attrs:{scope:"col"}},[t._v("Actions")])])])}],i=(n("4de4"),n("d81d"),n("b0c0"),n("5530")),r=n("2f62"),a={name:"Notes",data:function(){return{notes:[],newNote:{name:"",description:""},editNote:{_id:"",name:"",description:""},message:{text:"",color:""},editMode:!1,dismissSecs:5,dismissCountDown:0}},computed:Object(i["a"])({},Object(r["c"])(["token"])),created:function(){this.getNotes()},methods:{getConfigAxios:function(){var t={headers:{Authorization:this.token}};return t},getNotes:function(){var t=this;this.axios.get("/note",this.getConfigAxios()).then((function(e){t.notes=e.data})).catch((function(e){console.error(e.response),t.createAlertAndShow("Error","danger")}))},addNote:function(){var t=this;this.axios.post("/note",this.newNote,this.getConfigAxios()).then((function(e){t.notes.push(e.data),t.newNote={name:"",description:""},t.createAlertAndShow("Added note","success")})).catch((function(e){console.error(e.response),e.response.data.error.errors.name.message?t.createAlertAndShow(e.response.data.error.errors.name.message,"danger"):t.createAlertAndShow("Internal error","danger")}))},deleteNote:function(t){var e=this;this.axios.delete("/note/".concat(t),this.getConfigAxios()).then((function(t){e.notes=e.notes.filter((function(e){return e._id!==t.data._id})),e.createAlertAndShow("Note removed","success")})).catch((function(t){console.error(t.response),t.response.data.message?e.createAlertAndShow(t.response.data.message,"danger"):e.createAlertAndShow("Internal error","danger")}))},activeEditMode:function(t){var e=this;this.editMode=!0,this.axios.get("/note/".concat(t)).then((function(t){e.editNote=t.data})).catch((function(t){console.error(t)}))},cancelEditMode:function(){this.editMode=!1,this.editNote={_id:"",name:"",description:""}},updateNote:function(){var t=this;this.axios.put("/note/".concat(this.editNote._id),this.editNote,this.getConfigAxios()).then((function(e){t.notes=t.notes.map((function(t){return t._id===e.data._id?e.data:t})),t.cancelEditMode(),t.createAlertAndShow("Note edited","success")})).catch((function(e){console.error(e),e.response.data.message?t.createAlertAndShow(e.response.data.message,"danger"):t.createAlertAndShow("Internal error","danger")}))},createAlertAndShow:function(t,e){this.message.text=t,this.message.color=e,this.showAlert()},showAlert:function(){this.dismissCountDown=this.dismissSecs},countDownChanged:function(t){this.dismissCountDown=t}}},c=a,d=n("2877"),u=Object(d["a"])(c,o,s,!1,null,null,null);e["default"]=u.exports},b0c0:function(t,e,n){var o=n("83ab"),s=n("9bf2").f,i=Function.prototype,r=i.toString,a=/^\s*function ([^ (]*)/,c="name";o&&!(c in i)&&s(i,c,{configurable:!0,get:function(){try{return r.call(this).match(a)[1]}catch(t){return""}}})},d81d:function(t,e,n){"use strict";var o=n("23e7"),s=n("b727").map,i=n("1dde"),r=n("ae40"),a=i("map"),c=r("map");o({target:"Array",proto:!0,forced:!a||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=notes.490814dc.js.map